# Ralph - Autonomous AI Agent Loop for Cursor IDE

Ralph is an autonomous AI agent loop that uses Cursor IDE Composer repeatedly until all PRD items are complete. Each iteration uses Cursor Composer with clean context guided by `.cursorrules`. Memory persists via git history, `progress.txt`, and `prd.json`.

Based on [Geoffrey Huntley's Ralph pattern](https://ghuntley.com/ralph/).

## Quick Start

### Option 1: Universal Template (Recommended)

Use the interactive CLI to scaffold a new project:

```bash
./init-ralph.sh                    # Answer questions about your project
./scaffold.sh                      # Generate project structure
./generate-prd-from-config.sh      # Create initial PRD
cd <your-project-name>
./ralph.sh                         # Start autonomous development
```

See [UNIVERSAL-TEMPLATE.md](UNIVERSAL-TEMPLATE.md) for complete documentation.

### Option 2: Manual Setup

1. Create or convert a PRD to `prd.json` format (see `prd.json.example`)
2. Run Ralph:
   ```bash
   ./ralph.sh [max_iterations]
   ```
3. Use Cursor Composer to implement each story (instructions displayed by Ralph)
4. Commit, update PRD, and continue

See [.cursor/composer-instructions.md](.cursor/composer-instructions.md) for detailed workflow.

## Commands

```bash
# Initialize a new project (Universal Template)
./init-ralph.sh

# Scaffold project structure
./scaffold.sh

# Generate PRD from configuration
./generate-prd-from-config.sh

# Run Ralph development loop
./ralph.sh [max_iterations]

# Run the flowchart dev server
cd flowchart && npm run dev

# Build the flowchart
cd flowchart && npm run build
```

## Key Files

- `ralph.sh` - The bash loop that generates Composer prompts
- `init-ralph.sh` - Interactive CLI to initialize new projects
- `scaffold.sh` - Project scaffolding engine
- `generate-prd-from-config.sh` - PRD generator from config
- `.cursorrules` - Instructions for Cursor AI
- `prd.json.example` - Example PRD format
- `project-config.json` - Project configuration (generated by init-ralph.sh)
- `rule-selector.json` - Maps project types to Cursor Rules
- `.cursor/` - Cursor IDE configuration and templates
- `.cursor/rules/` - Cursor Rules for various development skills (37 rules)
- `flowchart/` - Interactive React Flow diagram explaining how Ralph works

## Flowchart

The `flowchart/` directory contains an interactive visualization built with React Flow. It's designed for presentations - click through to reveal each step with animations.

To run locally:
```bash
cd flowchart
npm install
npm run dev
```

## Features

### Universal Template System

Ralph now includes a universal template system that supports:
- **Websites** - Static/marketing sites with Next.js
- **Web Apps** - Interactive web applications
- **iOS Apps** - Native iOS applications
- **Android Apps** - Native Android applications
- **Desktop Apps** - Cross-platform desktop applications
- **CLI Tools** - Command-line utilities
- **API Backends** - REST/GraphQL APIs
- **Full Stack** - Complete applications with frontend and backend

### Automatic Rule Selection

Ralph automatically selects appropriate Cursor Rules based on:
- Project type
- Technology stack
- Selected features
- Deployment platform
- Testing approach

### Comprehensive Development Rules

37 Cursor Rules covering:
- Core Workflow (PRD generation, Ralph workflow, compound engineering)
- Design & UX (frontend design, UI/UX guidelines)
- Backend (FastAPI, Supabase, PostgreSQL, GraphQL)
- Frontend (React, Next.js, TypeScript, Tailwind CSS, SEO)
- Services (Stripe, Coinbase, Vercel, Firebase, Google Services, LLMs)
- Testing (unit tests, E2E tests, browser automation)
- DevOps (Docker, CI/CD, Git/GitHub)
- Security & Performance
- Document Processing (PDF, DOCX)
- Mobile (iOS app development)

See [.cursor/rules/README.md](.cursor/rules/README.md) for complete list.

## Patterns

- Each iteration uses Cursor Composer with clean context
- Memory persists via git history, `progress.txt`, and `prd.json`
- Stories should be small enough to complete in one context window
- Always update AGENTS.md with discovered patterns for future iterations
- Cursor Rules in `.cursor/rules/` guide AI behavior across all development tasks

## Documentation

- **[UNIVERSAL-TEMPLATE.md](UNIVERSAL-TEMPLATE.md)** - Universal Template system documentation
- **[AGENTS.md](AGENTS.md)** - Agent instructions and patterns
- **[ORGANIZATION.md](ORGANIZATION.md)** - Codebase organization
- **[CHANGELOG.md](CHANGELOG.md)** - Change history
- **[.cursor/composer-instructions.md](.cursor/composer-instructions.md)** - Composer workflow guide
- **[.cursor/rules/README.md](.cursor/rules/README.md)** - Cursor Rules documentation

## Requirements

- Cursor IDE
- jq (for JSON manipulation)
- Git repository
- Bash shell (for scripts)

## License

MIT
